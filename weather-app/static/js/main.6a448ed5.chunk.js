(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{199:function(e,t,a){},346:function(e,t,a){},347:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(63),s=a.n(i),c=n.a.createContext(),o=a(15),l=a(7),d=a(8),h=a(17),u=a(141),p=a.n(u),b={arrows:!0,infinite:!1,speed:1e3,slidesToShow:3,slidesToScroll:3,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,speed:500,infinite:!1}},{breakpoint:900,settings:{slidesToShow:1,slidesToScroll:1,initialSlide:0,infinite:!1}},{breakpoint:480,settings:{infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1}}]},j={Fahrenheit:"F",Celsius:"C"};function x(e,t){switch(t){case j.Fahrenheit:return function(e){return Math.ceil(9*(e-273.15)/5+32)}(e);case j.Celsius:return function(e){return Math.ceil(e-273.15)}(e);default:return e}}function g(e){switch(e){case j.Fahrenheit:return"\xb0F";case j.Celsius:return"\xb0C";default:return e}}var v=function(){function e(){Object(l.a)(this,e),this.unit=j.Celsius,this.report=[],this.loading=!1,this.isError=!1,this.errorMessage="There was an error while fetching report!",this.selectedDay=[],this.graphDataset=[],this.city={},this.currentSildeIndex=0,Object(h.d)(this)}return Object(d.a)(e,[{key:"setUnit",value:function(e){this.unit=e,this.selectedDay.length&&this.setSelectedDay(this.selectedDay,this.currentSildeIndex)}},{key:"setSelectedDay",value:function(e,t){var a=this;this.selectedDay=e,this.currentSildeIndex=t;var r=[],n=[],i=[];e.map((function(e){r.push(e.hour),n.push(x(e.main.temp_max,a.unit)),i.push(x(e.main.temp_min,a.unit))})),this.graphDataset={labels:r,datasets:[{label:"max",data:n,backgroundColor:"green"},{label:"min",data:i,backgroundColor:"orange"}]}}},{key:"disableLoading",value:function(){this.loading=!1}},{key:"fetchWeatherReport",value:function(){var e=this;this.loading=!0,this.isError=!1,this.errorMessage="",p.a.get("https://api.openweathermap.org/data/2.5/forecast?q=Munich,de&APPID=75f972b80e26f14fe6c920aa6a85ad57&cnt=40").then((function(t){e.city=t.data.city,e.modify(t.data),e.disableLoading()})).catch((function(){e.isError=!0,e.disableLoading(),e.errorMessage="There was a error while fetching data. Please click refresh to try again"}))}},{key:"modify",value:function(e){var t=new Map;e.list.map((function(e){e.dt;var a=e.main,r=e.dt_txt,n=a.temp_max,i=a.temp_min,s=r.split(" "),c=Object(o.a)(s,2),l=c[0],d=c[1],h=(n+i)/2,u=[];if(t.has(l)){var p=t.get(l);u=p.data,h=(h+p.avgTemp)/2}e.hour=d.substr(0,d.lastIndexOf(":")),u.push(e),t.set(l,{avgTemp:h,data:u})})),this.report=Array.from(t,(function(e){var t=Object(o.a)(e,2);return{date:t[0],value:t[1]}})),this.setSelectedDay(this.report[0].value.data,0)}}]),e}(),f=a(147),m=a(21),O=a(65),y=a.n(O),w=a(390),C=a(2);function S(){var e=Object(m.a)(Object(m.a)({},b),{},{arrows:!1});return Object(C.jsxs)("div",{children:[Object(C.jsx)("br",{}),Object(C.jsxs)(y.a,Object(m.a)(Object(m.a)({},e),{},{id:"skeleton",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)(w.a,{variant:"rectangular",width:"95%",height:118}),Object(C.jsx)(w.a,{width:"95%"}),Object(C.jsx)(w.a,{width:"60%"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(w.a,{variant:"rectangular",width:"95%",height:118}),Object(C.jsx)(w.a,{width:"95%"}),Object(C.jsx)(w.a,{width:"60%"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(w.a,{variant:"rectangular",width:"95%",height:118}),Object(C.jsx)(w.a,{width:"95%"}),Object(C.jsx)(w.a,{width:"60%"})]})]}))]})}var k=a(388);a(199);function T(e){var t=e.errorMessage;return Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("div",{className:"vertical-center",children:Object(C.jsx)(k.a,{className:"child",severity:"error",children:t})})})}var D=a(392),E=a(399),M=a(400),F=a(393),N=a(384),I=a(9),W=a(401),R=a(386),A=a(236),B=a(143),P=a.n(B),_=a(144);var G=Object(_.autoPlay)(P.a),J=Object(R.a)({text:{textAlign:"left",color:"white",margin:0,marginTop:"-10px"}});var U=function(e){var t=e.value,a=Object(A.a)(),n=r.useState(0),i=Object(o.a)(n,2),s=i[0],c=i[1],l=J();return Object(C.jsx)(D.a,{sx:{maxWidth:400,flexGrow:1},children:Object(C.jsx)(G,{axis:"rtl"===a.direction?"x-reverse":"x",index:s,onChangeIndex:function(e){c(e)},enableMouseEvents:!0,children:t.data.map((function(e,t){return Object(C.jsxs)("div",{children:[Math.abs(s-t)<=2?Object(C.jsx)(D.a,{component:"img",sx:{overflow:"hidden",width:"90px",height:"90px",margin:"auto",marginTop:"-15px"},src:(a=e.weather[0].icon,"https://openweathermap.org/img/wn/"+a+"@4x.png"),alt:e.label}):null,Object(C.jsx)(F.a,{variant:"p",component:"h6",className:l.text,color:"text.secondary",gutterBottom:!0,children:e.hour+" "+e.weather[0].description})]},t);var a}))})})},H=Object(R.a)({cardSelect:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:"5px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:"100%",maxHeight:"150px",padding:"0 10px"},card:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",border:0,borderRadius:"5px",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",height:"100%",maxHeight:"150px",padding:"0 10px"},img:{margin:0,position:"absolute",top:"50%",transform:"translateY(-50%)"},text:{textAlign:"left",color:"white"}}),L=Object(I.a)(D.a)((function(e){var t=e.theme;return Object(m.a)(Object(m.a)({},t.typography.body2),{},{width:"50%",padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})}));function Y(e){var t=e.avgTemp,a=e.date,r=e.showGraph,n=e.value,i=e.unit,s=e.city,c=e.index,o=e.currentSildeIndex,l=H();return Object(C.jsx)(E.a,{sx:{margin:1},className:o===c?l.cardSelect:l.card,onClick:function(){r(n,c)},children:Object(C.jsx)(M.a,{children:Object(C.jsxs)(N.a,{direction:"row",divider:Object(C.jsx)(W.a,{orientation:"vertical",flexItem:!0}),spacing:2,children:[Object(C.jsxs)(L,{children:[Object(C.jsxs)(F.a,{variant:"h4",component:"h4",className:l.text,color:"text.secondary",gutterBottom:!0,children:[t,"\xb0",i]},1),Object(C.jsx)(F.a,{variant:"p",component:"h5",className:l.text,color:"text.secondary",gutterBottom:!0,children:s.name},2),Object(C.jsx)(F.a,{variant:"p",component:"h5",className:l.text,color:"text.secondary",children:a},3)]},0),Object(C.jsx)(L,{children:Object(C.jsx)(U,{value:n})},1)]})})},Math.random())}var q=function(e){return Object(C.jsx)(y.a,Object(m.a)(Object(m.a)({},b),{},{children:e.children}))},z=a(100),X=a.n(z),Z=a(148),K=function(e,t,a){var r=e.chart,n=e.tooltip,i=function(e){var t=e.canvas.parentNode.querySelector("div");if(!t){(t=document.createElement("div")).style.background="rgba(0, 0, 0, 0.7)",t.style.borderRadius="3px",t.style.color="white",t.style.opacity=1,t.style.pointerEvents="none",t.style.position="absolute",t.style.transform="translate(-50%, 0)",t.style.transition="all .1s ease";var a=document.createElement("table");a.style.margin="0px",t.appendChild(a),e.canvas.parentNode.appendChild(t)}return t}(r);if(0!==n.opacity){if(n.body){var s=n.title||[],c=n.dataPoints[0].dataIndex,o=n.body.map((function(e){return e.lines+" \xb0"+t})),l=a[c].main,d=l.humidity,h=l.pressure,u=l.sea_level;o.push(["Humidity: "+d]),o.push(["Pressure: "+h]),o.push(["Sealevel: "+u]);var p=document.createElement("thead");s.forEach((function(e){var t=document.createElement("tr");t.style.borderWidth=0,t.style.color="white";var a=document.createElement("th");a.style.borderWidth=0,a.style.textAlign="left";var r=document.createTextNode(e);a.appendChild(r),t.appendChild(a),p.appendChild(t)}));var b=document.createElement("tbody");o.forEach((function(e,t){n.labelColors[t];var a=document.createElement("tr");a.style.backgroundColor="inherit",a.style.borderWidth=0;var r=document.createElement("td");r.style.borderWidth=0,r.style.fontSize="small",r.style.color="white";var i=document.createTextNode(e);r.appendChild(i),a.appendChild(r),b.appendChild(a)}));for(var j=i.querySelector("table");j.firstChild;)j.firstChild.remove();j.appendChild(p),j.appendChild(b)}var x=r.canvas,g=x.offsetLeft,v=x.offsetTop;i.style.opacity=1,i.style.left=g+n.caretX+"px",i.style.top=v+n.caretY+"px",i.style.font=n.options.bodyFont.string,i.style.padding=n.options.padding+"px "+n.options.padding+"px"}else i.style.opacity=0},Q=["January","February","March","April","May","June","July","August","September","October","November","December"];var V=function(e){var t,a=e.data,r=(e.handleIndexClick,e.rawData),n=e.unit,i=Object(h.h)(r),s={scales:{y:[{ticks:{beginAtZero:!0}}]},plugins:{title:{display:!0,text:"Hourly weather breakdown for "+(function(e){if(!e)return null;var t=new Date(0);return t.setUTCSeconds(e),t.getFullYear()+" "+Q[t.getMonth()]+" "+t.getDate()}(null===(t=i[0])||void 0===t?void 0:t.dt)||null)},legend:{position:"bottom"},tooltip:{enabled:!1,position:"nearest",external:function(e){K(e,n,i)},unit:n,rawData:i}}};return Object(C.jsx)(Z.a,{data:a,options:s})},$=a(402),ee=a(391),te=Object(I.a)(ee.a)((function(e){var t=e.theme;return{"& .MuiToggleButtonGroup-grouped":{margin:t.spacing(.1),border:0,"&.Mui-disabled":{border:0},"&:not(:first-of-type)":{borderRadius:t.shape.borderRadius},"&:first-of-type":{borderRadius:t.shape.borderRadius}}}}));var ae=function(e){var t=e.unit,a=e.handleUnitChange;return Object(C.jsx)(te,{size:"small",value:t,exclusive:!0,onChange:function(e){return a(e)},"aria-label":"Temperature",children:Object(C.jsx)(ee.a,{color:"primary",value:t,exclusive:!0,onChange:function(e){return a(e)},children:Object.entries(j).map((function(e){var t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(C.jsx)($.a,{value:r,children:g(r)},a)}))})})},re=a(394),ne=Object(R.a)({icon:{position:"relative",top:"50%",transform:"translateY(35%)"},iconCenter:{margin:"auto",width:"100%"}});var ie=Object(f.a)((function(){var e=n.a.useContext(c).weatherStore,t=n.a.useState(e.unit||j.Fahrenheit),a=Object(o.a)(t,2),i=a[0],s=a[1],l=ne();if(Object(r.useEffect)((function(){return e.fetchWeatherReport()}),[]),e.loading)return Object(C.jsx)(S,{});if(e.isError)return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(T,{errorMessage:e.errorMessage}),"  ",Object(C.jsx)(X.a,{className:l.icon+" "+l.iconCenter,onClick:function(){e.fetchWeatherReport()}})," "]});var d=function(t,a){return e.setSelectedDay(t.data,a)};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(q,{id:"slide",children:e.report.length>0&&Object(h.h)(e.report).map((function(t,a){var r=t.date,n=t.value;return Object(C.jsx)(Y,{avgTemp:x(n.avgTemp,e.unit),date:r,unit:i,value:n,city:e.city,index:a,currentSildeIndex:e.currentSildeIndex,showGraph:d},a)}))}),Object(C.jsxs)(N.a,{direction:"row",spacing:2,children:[Object(C.jsx)(ae,{unit:i,handleUnitChange:function(t){s(t.target.value),e.setUnit(t.target.value)}}),Object(C.jsx)(X.a,{className:l.icon,onClick:function(){e.fetchWeatherReport()}})]}),Object(C.jsx)(re.a,{maxWidth:"md",children:Object(C.jsx)(V,{data:e.graphDataset,rawData:e.selectedDay,unit:e.unit})})]})})),se=a(395),ce=a(396),oe=a(397);a(346);var le=function(){return Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)(se.a,{}),Object(C.jsx)(ce.a,{position:"static",children:Object(C.jsx)(oe.a,{children:Object(C.jsx)(F.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"block",sm:"block"}},children:"Weather App"})})}),Object(C.jsx)("br",{}),Object(C.jsx)(re.a,{fixed:!0,children:Object(C.jsx)(D.a,{children:Object(C.jsx)(ie,{})})})]})},de=new v;s.a.render(Object(C.jsx)(c.Provider,{value:{weatherStore:de},children:Object(C.jsx)(le,{})}),document.body)}},[[347,1,2]]]);
//# sourceMappingURL=main.6a448ed5.chunk.js.map