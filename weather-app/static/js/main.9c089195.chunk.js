(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{341:function(e,t,a){},342:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(62),s=a.n(i),c=n.a.createContext(),o=a(14),d=a(6),l=a(7),h=a(16),u=a(138),p=a.n(u),b={arrows:!0,infinite:!1,speed:1e3,slidesToShow:3,slidesToScroll:3,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,speed:500,infinite:!1}},{breakpoint:900,settings:{slidesToShow:1,slidesToScroll:1,initialSlide:0,infinite:!1}},{breakpoint:480,settings:{infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1}}]},j={Fahrenheit:"F",Celsius:"C"};function x(e,t){switch(t){case j.Fahrenheit:return function(e){return Math.ceil(9*(e-273.15)/5+32)}(e);case j.Celsius:return function(e){return Math.ceil(e-273.15)}(e);default:return e}}function m(e){switch(e){case j.Fahrenheit:return"\xb0F";case j.Celsius:return"\xb0C";default:return e}}var g=function(){function e(){Object(d.a)(this,e),this.unit=j.Celsius,this.report=[],this.loading=!1,this.isError=!1,this.errorMessage="",this.selectedDay=[],this.graphDataset=[],this.city={},this.currentSildeIndex=0,Object(h.d)(this)}return Object(l.a)(e,[{key:"setUnit",value:function(e){this.unit=e,this.selectedDay.length&&this.setSelectedDay(this.selectedDay,this.currentSildeIndex)}},{key:"setSelectedDay",value:function(e,t){var a=this;this.selectedDay=e,this.currentSildeIndex=t;var r=[],n=[],i=[];e.map((function(e){r.push(e.hour),n.push(x(e.main.temp_max,a.unit)),i.push(x(e.main.temp_min,a.unit))})),this.graphDataset={labels:r,datasets:[{label:"max",data:n,backgroundColor:"green"},{label:"min",data:i,backgroundColor:"orange"}]}}},{key:"disableLoading",value:function(){this.loading=!1}},{key:"fetchWeatherReport",value:function(){var e=this;this.loading=!0,this.isError=!1,this.errorMessage="",p.a.get("/data.json").then((function(t){e.city=t.data.city,e.modify(t.data),e.disableLoading()})).catch((function(){console.error("hey error"),e.isError=!0,e.errorMessage="There was a error while fetching data. Please click refresh to try again"}))}},{key:"modify",value:function(e){var t=new Map;e.list.map((function(e){e.dt;var a=e.main,r=e.dt_txt,n=a.temp_max,i=a.temp_min,s=r.split(" "),c=Object(o.a)(s,2),d=c[0],l=c[1],h=(n+i)/2,u=[];if(t.has(d)){var p=t.get(d);u=p.data,h=(h+p.avgTemp)/2}e.hour=l.substr(0,l.lastIndexOf(":")),u.push(e),t.set(d,{avgTemp:h,data:u})})),this.report=Array.from(t,(function(e){var t=Object(o.a)(e,2);return{date:t[0],value:t[1]}})),this.setSelectedDay(this.report[0].value.data,0)}}]),e}(),v=a(145),f=a(21),O=a(64),y=a.n(O),w=a(388),S=a(2);function C(){var e=Object(f.a)(Object(f.a)({},b),{},{arrows:!1});return Object(S.jsxs)("div",{children:[Object(S.jsx)("br",{}),Object(S.jsxs)(y.a,Object(f.a)(Object(f.a)({},e),{},{id:"skeleton",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)(w.a,{variant:"rectangular",width:"95%",height:118}),Object(S.jsx)(w.a,{width:"95%"}),Object(S.jsx)(w.a,{width:"60%"})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)(w.a,{variant:"rectangular",width:"95%",height:118}),Object(S.jsx)(w.a,{width:"95%"}),Object(S.jsx)(w.a,{width:"60%"})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)(w.a,{variant:"rectangular",width:"95%",height:118}),Object(S.jsx)(w.a,{width:"95%"}),Object(S.jsx)(w.a,{width:"60%"})]})]}))]})}function k(e){var t=e.errorMessage;return Object(S.jsx)("div",{children:t})}var T=a(389),E=a(384),D=a(393),M=a(392),F=a(379),I=a(12),N=a(394),R=a(382),A=a(231),W=a(139),B=a.n(W),_=a(140);var G=Object(_.autoPlay)(B.a),J=Object(R.a)({text:{textAlign:"left",color:"white",margin:0,marginTop:"-10px"}});var P=function(e){var t=e.value,a=Object(A.a)(),n=r.useState(0),i=Object(o.a)(n,2),s=i[0],c=i[1],d=J();return Object(S.jsx)(T.a,{sx:{maxWidth:400,flexGrow:1},children:Object(S.jsx)(G,{axis:"rtl"===a.direction?"x-reverse":"x",index:s,onChangeIndex:function(e){c(e)},enableMouseEvents:!0,children:t.data.map((function(e,t){return Object(S.jsxs)("div",{children:[Math.abs(s-t)<=2?Object(S.jsx)(T.a,{component:"img",sx:{overflow:"hidden",width:"90px",height:"90px"},src:(a=e.weather[0].icon,"https://openweathermap.org/img/wn/"+a+"@4x.png"),alt:e.label}):null,Object(S.jsx)(M.a,{variant:"p",component:"h6",className:d.text,color:"text.secondary",gutterBottom:!0,children:e.hour+" "+e.weather[0].description})]},t);var a}))})})},H=Object(R.a)({cardSelect:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:"5px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:"100%",maxHeight:"150px",padding:"0 10px"},card:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",border:0,borderRadius:"5px",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",height:"100%",maxHeight:"150px",padding:"0 10px"},img:{margin:0,position:"absolute",top:"50%",transform:"translateY(-50%)"},text:{textAlign:"left",color:"white"}}),Y=Object(I.a)(T.a)((function(e){var t=e.theme;return Object(f.a)(Object(f.a)({},t.typography.body2),{},{width:"50%",padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})}));function L(e){var t=e.avgTemp,a=e.date,r=e.showGraph,n=e.value,i=e.unit,s=e.city,c=e.index,o=e.currentSildeIndex,d=H();return Object(S.jsx)(E.a,{sx:{margin:1},className:o===c?d.cardSelect:d.card,onClick:function(){r(n,c)},children:Object(S.jsx)(D.a,{children:Object(S.jsxs)(F.a,{direction:"row",divider:Object(S.jsx)(N.a,{orientation:"vertical",flexItem:!0}),spacing:2,children:[Object(S.jsxs)(Y,{children:[Object(S.jsxs)(M.a,{variant:"h4",component:"h4",className:d.text,color:"text.secondary",gutterBottom:!0,children:[t,"\xb0",i]},1),Object(S.jsx)(M.a,{variant:"p",component:"h5",className:d.text,color:"text.secondary",gutterBottom:!0,children:s.name},2),Object(S.jsx)(M.a,{variant:"p",component:"h5",className:d.text,color:"text.secondary",children:a},3)]},0),Object(S.jsx)(Y,{children:Object(S.jsx)(P,{value:n})},1)]})})},Math.random())}var U=function(e){return Object(S.jsx)(y.a,Object(f.a)(Object(f.a)({},b),{},{children:e.children}))},q=a(387),z=a(383),X=a(386),Z=a(144),K=a.n(Z),Q=a(147),V=function(e,t,a){var r=e.chart,n=e.tooltip,i=function(e){var t=e.canvas.parentNode.querySelector("div");if(!t){(t=document.createElement("div")).style.background="rgba(0, 0, 0, 0.7)",t.style.borderRadius="3px",t.style.color="white",t.style.opacity=1,t.style.pointerEvents="none",t.style.position="absolute",t.style.transform="translate(-50%, 0)",t.style.transition="all .1s ease";var a=document.createElement("table");a.style.margin="0px",t.appendChild(a),e.canvas.parentNode.appendChild(t)}return t}(r);if(0!==n.opacity){if(n.body){var s=n.title||[],c=n.dataPoints[0].dataIndex,o=n.body.map((function(e){return e.lines+" \xb0"+t})),d=a[c].main,l=d.humidity,h=d.pressure,u=d.sea_level;o.push(["Humidity: "+l]),o.push(["Pressure: "+h]),o.push(["Sealevel: "+u]);var p=document.createElement("thead");s.forEach((function(e){var t=document.createElement("tr");t.style.borderWidth=0;var a=document.createElement("th");a.style.borderWidth=0,a.style.textAlign="left";var r=document.createTextNode(e);a.appendChild(r),t.appendChild(a),p.appendChild(t)}));var b=document.createElement("tbody");o.forEach((function(e,t){n.labelColors[t];var a=document.createElement("tr");a.style.backgroundColor="inherit",a.style.borderWidth=0;var r=document.createElement("td");r.style.borderWidth=0,r.style.fontSize="small";var i=document.createTextNode(e);r.appendChild(i),a.appendChild(r),b.appendChild(a)}));for(var j=i.querySelector("table");j.firstChild;)j.firstChild.remove();j.appendChild(p),j.appendChild(b)}var x=r.canvas,m=x.offsetLeft,g=x.offsetTop;i.style.opacity=1,i.style.left=m+n.caretX+"px",i.style.top=g+n.caretY+"px",i.style.font=n.options.bodyFont.string,i.style.padding=n.options.padding+"px "+n.options.padding+"px"}else i.style.opacity=0},$=["January","February","March","April","May","June","July","August","September","October","November","December"];var ee=function(e){var t,a=e.data,r=(e.handleIndexClick,e.rawData),n=e.unit,i=Object(h.h)(r),s={scales:{y:[{ticks:{beginAtZero:!0}}]},plugins:{title:{display:!0,text:"Hourly weather breakdown for "+(function(e){if(!e)return null;var t=new Date(0);return t.setUTCSeconds(e),t.getFullYear()+" "+$[t.getMonth()]+" "+t.getDate()}(null===(t=i[0])||void 0===t?void 0:t.dt)||null)},legend:{position:"bottom"},tooltip:{enabled:!1,position:"nearest",external:function(e){V(e,n,i)},unit:n,rawData:i}}};return Object(S.jsx)(Q.a,{data:a,options:s})},te=Object(I.a)(X.a)((function(e){var t=e.theme;return{"& .MuiToggleButtonGroup-grouped":{margin:t.spacing(.1),border:0,"&.Mui-disabled":{border:0},"&:not(:first-of-type)":{borderRadius:t.shape.borderRadius},"&:first-of-type":{borderRadius:t.shape.borderRadius}}}})),ae=Object(R.a)({icon:{position:"relative",top:"50%",transform:"translateY(-50%)",marginTop:-10}});var re=Object(v.a)((function(){var e=n.a.useContext(c).weatherStore,t=n.a.useState(e.unit||j.Fahrenheit),a=Object(o.a)(t,2),i=a[0],s=a[1],d=n.a.useState(),l=Object(o.a)(d,2),u=(l[0],l[1],function(t){s(t.target.value),e.setUnit(t.target.value)}),p=ae();if(Object(r.useEffect)((function(){e.fetchWeatherReport()}),[]),e.loading)return Object(S.jsx)(C,{});if(e.isError)return Object(S.jsx)(k,{message:e.errorMessage});var b=function(t,a){e.setSelectedDay(t.data,a)};return Object(S.jsxs)("div",{children:[Object(S.jsx)(T.a,{sx:{flexGrow:1},children:Object(S.jsx)(q.a,{container:!0,children:Object(S.jsxs)(q.a,{item:!0,xs:12,children:[Object(S.jsx)(te,{size:"small",value:i,exclusive:!0,onChange:u,"aria-label":"Temperature",children:Object(S.jsx)(X.a,{color:"primary",value:i,exclusive:!0,onChange:u,children:Object.entries(j).map((function(e){var t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(S.jsx)(z.a,{value:r,children:m(r)},a)}))})}),Object(S.jsx)(K.a,{className:p.icon,onClick:function(){e.fetchWeatherReport()}})]},1)})}),Object(S.jsx)(U,{id:"slide",children:e.report.length>0&&Object(h.h)(e.report).map((function(t,a){var r=t.date,n=t.value;return Object(S.jsx)(L,{avgTemp:x(n.avgTemp,e.unit),date:r,unit:i,value:n,city:e.city,index:a,currentSildeIndex:e.currentSildeIndex,showGraph:b},a)}))}),Object(S.jsxs)(q.a,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:[Object(S.jsx)(q.a,{item:!0,xs:12,sm:12,md:2}),Object(S.jsx)(q.a,{item:!0,xs:12,sm:12,md:8,children:Object(S.jsx)(ee,{data:e.graphDataset,rawData:e.selectedDay,unit:e.unit})}),Object(S.jsx)(q.a,{item:!0,xs:12,sm:12,md:2})]})]})})),ne=a(390),ie=a(391);a(341);var se=function(){return Object(S.jsxs)(n.a.Fragment,{children:[Object(S.jsx)(ne.a,{}),Object(S.jsx)(ie.a,{fixed:!0,children:Object(S.jsx)(T.a,{children:Object(S.jsx)(re,{})})})]})},ce=new g;s.a.render(Object(S.jsx)(c.Provider,{value:{weatherStore:ce},children:Object(S.jsx)(se,{})}),document.body)}},[[342,1,2]]]);
//# sourceMappingURL=main.9c089195.chunk.js.map